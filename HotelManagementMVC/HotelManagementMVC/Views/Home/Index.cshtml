@{
    ViewData["Title"] = "Welcome to Hotel Management";
    var featuredRooms = ViewBag.FeaturedRooms as List<BusinessObjects.Entities.Room>;
    var roomTypes = ViewBag.RoomTypes as List<BusinessObjects.Entities.RoomType>;
}

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["SuccessMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<!-- HERO BANNER SECTION -->
<section class="hero-banner">
    <div class="container">
        <div class="hero-content">
            <h1 class="animate__animated animate__fadeInDown">Find Your Perfect Stay</h1>
            <p class="animate__animated animate__fadeInUp">Discover luxury accommodations at unbeatable prices</p>
            
           
        </div>
    </div>
</section>

<!-- FEATURES SECTION -->
<section class="py-80">
    <div class="container">
        <div class="section-title">
            <h2>Why Choose Us</h2>
            <p>Experience world-class service and unforgettable moments</p>
        </div>
        <div class="row g-4">
            <div class="col-md-3 col-sm-6">
                <div class="feature-icon-box">
                    <div class="icon-circle"><i class="fas fa-hotel"></i></div>
                    <h4>Premium Rooms</h4>
                    <p>Luxurious and spacious rooms with modern amenities and stunning city views.</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="feature-icon-box">
                    <div class="icon-circle"><i class="fas fa-credit-card"></i></div>
                    <h4>Easy Payment</h4>
                    <p>Secure and flexible payment options including VNPay and digital wallet.</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="feature-icon-box">
                    <div class="icon-circle"><i class="fas fa-star"></i></div>
                    <h4>5-Star Service</h4>
                    <p>24/7 dedicated customer support to ensure your stay is perfect.</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="feature-icon-box">
                    <div class="icon-circle"><i class="fas fa-map-marker-alt"></i></div>
                    <h4>Prime Location</h4>
                    <p>Located in the heart of the city with easy access to attractions.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FEATURED ROOMS SECTION -->
@if (featuredRooms != null && featuredRooms.Any())
{
    <section class="py-80" style="background: #f8f9fa;">
        <div class="container">
            <div class="section-title">
                <h2>Featured Rooms</h2>
                <p>Handpicked accommodations for your perfect getaway</p>
            </div>
            <div class="row g-4">
                @foreach (var room in featuredRooms)
                {
                    <div class="col-lg-4 col-md-6">
                        <div class="room-card">
                            <div class="room-card-img">
                                <img src="@(string.IsNullOrEmpty(room.ImageUrl) ? "https://images.unsplash.com/photo-1611892440504-42a792e24d32?w=800" : room.ImageUrl)" 
                                     alt="@room.RoomNumber" />
                                <span class="room-badge">Available</span>
                            </div>
                            <div class="room-card-body">
                                <h5 class="room-card-title">Room @room.RoomNumber - @room.RoomType?.Name</h5>
                                <p class="room-card-text">
                                    @(string.IsNullOrEmpty(room.Description) ? "Comfortable and elegant room with all modern amenities." : 
                                      (room.Description.Length > 80 ? room.Description.Substring(0, 80) + "..." : room.Description))
                                </p>
                                <div class="room-features">
                                    <span class="room-feature-item">
                                        <i class="fas fa-users"></i> @room.MaxOccupancy Guests
                                    </span>
                                    <span class="room-feature-item">
                                        <i class="fas fa-wifi"></i> Free WiFi
                                    </span>
                                    <span class="room-feature-item">
                                        <i class="fas fa-utensils"></i> Breakfast
                                    </span>
                                </div>
                                <div class="room-price">
                                    <div class="price-tag">
                                        @(room.RoomType?.PricePerNight.ToString("N0") ?? "N/A")đ
                                        <small>/night</small>
                                    </div>
                                    <a asp-controller="Rooms" asp-action="Search" class="btn btn-book-now">
                                        Book Now
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
            <div class="text-center mt-5">
                <a asp-controller="Rooms" asp-action="Search" class="btn btn-primary btn-lg px-5">
                    View All Rooms
                </a>
            </div>
        </div>
    </section>
}

<!-- STATISTICS SECTION -->
<section class="py-80">
    <div class="container">
        <div class="section-title">
            <h2>Our Achievement</h2>
            <p>Numbers that speak for our excellence</p>
        </div>
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="stats-card">
                    <span class="stats-number">500+</span>
                    <span class="stats-label">Happy Guests</span>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stats-card">
                    <span class="stats-number">50+</span>
                    <span class="stats-label">Premium Rooms</span>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stats-card">
                    <span class="stats-number">24/7</span>
                    <span class="stats-label">Customer Support</span>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stats-card">
                    <span class="stats-number">100%</span>
                    <span class="stats-label">Satisfaction Rate</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA SECTION -->
@if (!User.Identity.IsAuthenticated)
{
    <section class="cta-section">
        <div class="container">
            <h2>Ready to Start Your Journey?</h2>
            <p>Join thousands of satisfied guests and book your perfect stay today</p>
            <div class="d-flex justify-content-center gap-3 flex-wrap">
                <a asp-controller="Account" asp-action="Register" class="btn btn-light-cta btn-lg">
                    Create Account
                </a>
                <a asp-controller="Rooms" asp-action="Search" class="btn btn-outline-light btn-lg">
                    Browse Rooms
                </a>
            </div>
        </div>
    </section>
}
else if (User.IsInRole("Customer"))
{
    <section class="cta-section">
        <div class="container">
            <h2>Welcome Back, @User.Identity.Name!</h2>
            <p>Ready to plan your next adventure?</p>
            <div class="d-flex justify-content-center gap-3 flex-wrap">
                <a asp-controller="Rooms" asp-action="Search" class="btn btn-light-cta btn-lg">
                    Book a Room
                </a>
                <a asp-controller="Bookings" asp-action="Index" class="btn btn-outline-light btn-lg">
                    My Bookings
                </a>
            </div>
        </div>
    </section>
}
else if (User.IsInRole("Admin") || User.IsInRole("Manager") || User.IsInRole("Staff"))
{
    <section class="cta-section" style="background: linear-gradient(135deg, #6610f2 0%, #6f42c1 100%);">
        <div class="container">
            <h2>Management Portal</h2>
            <p>Access administrative tools and booking management</p>
            <div class="d-flex justify-content-center gap-3 flex-wrap">
                <a asp-controller="BookingManagement" asp-action="Index" class="btn btn-light-cta btn-lg">
                    Manage Bookings
                </a>
                @if (User.IsInRole("Admin"))
                {
                    <a asp-controller="Users" asp-action="Index" class="btn btn-outline-light btn-lg">
                        User Management
                    </a>
                }
            </div>
        </div>
    </section>
}
